325CDa_Tomita_Ionut

In cadrul acestei teme am avut de implementat dataplane-ul unui router.

Implementare:

Am inceput implementarea temei folosind logica laboratorului 4.


## Procesul de Dirijare:

Procesul de Dirijare l-am implementat folosind tabela statica de ARP din fisierul
`arp_table.txt`.

Pentru inceput am initializat tabelele, cea de ARP si cea de rutare, apoi am
asteptat sa primesc pachete. Dupa ce a fost interceptionat un pachet,
am verificat daca acesta este de tip IPv4, iar daca nu, acestuia i se da
drop. Daca pachetul este de tip IPv4, am verificat daca destinatia este chiar
routerul, caz in care am trimis inapoi un mesaj de tip ICMP Echo Reply.

Dupa aceasta am verificat integritatea header-ului IP folosind câmpul de
checksum din header. Dacă acesta difera de cea primita in antetul IP, pachetul
este corupt si ii vom da drop.

In continuare am scazut TTL-ul cu 1 si am trimis un mesaj de tip ICMP Time
Exceeded in cazul in care acesta a expirat, dand drop la pachet.

Caut in continuare in tabela de rutare adresa cea mai specifica, daca nu o
gasesc, trimit un mesaj de tip ICMP Destination Unreachable si dau drop la
pachet. Daca am gasit adresa, actualizez adresele destinatie si trimit pachetul
catre urmatorul hop.



## Protocolul ICMP:

In situatiile in care un pachet este aruncat de router se genereaza un mesaj de
tip ICMP si se trimite inapoi catre sursa, iar pentru astfel de cazuri am folosit
functia "icmp", schimband tipul mesajului in functie de situatie.



## Longest Prefix Match eficient:

Pentru algoritmul LPM am folosit o cautare
binara ce are complexitate O(log n), care este mai mica decat cea liniara, O(n).
Insa pentru a putea folosi aceasta metoda, am sortat tabela de rutare folosind qsort.